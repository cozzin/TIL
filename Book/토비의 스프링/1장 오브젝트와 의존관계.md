# 1장 오브젝트와 의존관계

Spring은 객체지향 설계 원칙대로 개발할 수 있게 도와주는 framework 이다. 변화에 효과적으로 대처하기 위해서 분리와 확장을 고려한 설계를 해야한다. 책의 1장 부터 객체지향의 다양한 개념들이 쏟아진다. 객체지향 종합 선물세트 같은 느낌이다.

책의 예제는 DB 연결과 사용을 하나의 객체에서 하는 객체에서 출발한다. 친절하고 실력있는 개발자에게 코드리뷰 받는 느낌이었다. 확장에 취약한 부분이 어느 곳이고, 어떤 이론적 배경이 있는지 설명해준다. 이런 점진적인 코드 수정은 온라인 강의였다면 훨씬 빠르게 설명되었을 것 같다. 내 경우엔 책으로 이런 과정을 보니 무슨 일이 일어났는지 여러번 곱씹을 수 있어서 좋았다.

여러가지 역할을 가지고 있는 객체(책에서 초난감 DAO라고 부른다)를 아래와 같은 방식으로 개선시켜 나간다.

* 메소드 추출
* 상속을 통한 분리
* 위임을 통한 분리: 위임을 통한 분리를 하고나니 클라이언트에서 오브젝트를 주입해줘야하는 일이 생겼다. 
* 관계설정 책임의 분리: Factory가 이 역할을 해줄 수 있다

여기까지 오면 왜 IoC 컨테이너가 왜 필요한지 알 수 있다. 관계 설정이 필요할 때 마다 Factory를 만들어내는 것 대신 컨테이너를 사용하면 편리하다. 그 뿐 아니라 [[Singleton Registry]]의 역할도 해준다.

## 질문
스프링이 생성자 주입을 권장할 것 같았는데, 오히려 수정자 주입의 편리함이 강조되는 것 같았어요

XML 사용해서 의존관계 설정하는게 과연 좋은건지 궁금했습니다! 텍스트 파일의 일종인 XML을 사용하면, 클래스의 네이밍 변화가 있거나 파라미터가 추가될 때 XML도 바꿔줘야하는데요 그러면 변화에 너무 취약한게 아닌가? 하는 의문이 들었어요 그리고 XML로 관계설정하는 방식을 실무에서 많이 사용하시는지 궁금했습니다